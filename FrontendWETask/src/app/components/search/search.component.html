
<body>
    <div class="container">
        <!-- Advanced Search Section -->
        <div class="search-section">
            <h2 class="search-title">Advanced Search</h2>


           <div class="search-grid">
                 <div class="form-group">
    <label class="form-label">Source of Cutting down</label>
    <select class="form-select" [(ngModel)]="filter.ChannelKey" name="channelKey">
      <option [ngValue]="null">Please Select</option>
      <option *ngFor="let ch of channels" [ngValue]="ch.Channel_Key">
        {{ ch.channel_Name }}
      </option>
    </select>
  </div>



                         <div class="form-group">
    <label class="form-label">Problem type of cutting down</label>
    <select class="form-select" [(ngModel)]="filter.ProblemTypeKey" name="problemTypeKey">
      <option [ngValue]="null">Please Select</option>
      <option *ngFor="let pt of problemTypes" [ngValue]="pt.problem_Type_Key">
        {{ pt.problem_Type_Name }}
      </option>
    </select>
  </div>


             <div class="form-group">
    <label class="form-label">Status</label>
    <select class="form-select" [(ngModel)]="filter.status" name="status">
      <option value="">Please Select</option>
      <option value="open">Open</option>
      <option value="closed">Closed</option>
    </select>
  </div>

                <div class="form-group">
                    <label class="form-label">Search Value</label>
                    <input type="text" class="form-input"[(ngModel)]="filter.searchValue" name="searchValue" placeholder="Search Value">
                </div>
            </div>

                  <div class="form-group">
    <label class="form-label">Search Criteria</label>
    <select class="form-select">
      <option value="">Please Select</option>
      <option *ngFor="let ne of networkElementTypes" [value]="ne.Network_Element_Type_Key">
        {{ ne.network_Element_Type_Name }}
      </option>
    </select>
¬†¬†</div>
                <div>
            </div>

            <div class="search-actions">
                <button class="btn btn-primary" (click)="onSearch()">üîç Search</button>
            </div>
        </div>

        <!-- Export Section -->
        <div class="export-section">
            <button class="btn btn-outline">üìä Export to Excel</button>
            <button class="btn btn-outline">üìÑ Export to PDF</button>
        </div>

        <!-- Table Info -->
        <div class="table-info">
            Drag a column header and drop it here to group by that column
        </div>

        <!-- Data Table -->
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>‚òê</th>
                        <th>Actions</th>
                        <th>Cutting_Down_Key</th>
                        <th>Cutting_Down_Incident_ID</th>
                        <th>Channel</th>
                        <th>ProblemType</th>
                        <th>Status</th>
                        <th>PlannedStartDTS</th>
                        <th>PlannedEndDTS</th>
                        <th>CreatedUser</th>
                        <th>NetworkElement</th>
                        <th>ImpactedCustomers</th>
                        <th>DetailCreatedDate</th>
                    </tr>
                </thead>
                <tbody>
                    <tr  *ngFor="let h of searchResult.headers">
                        <td>‚òê</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-sm btn-view">View</button>
                                <button class="btn btn-sm btn-close">Close</button>
                                <button class="btn btn-sm btn-close-all">Close All</button>
                            </div>
                        </td>
                        <td>{{ h.cutting_Down_Key }}</td>
                    <td>{{ h.cutting_Down_Incident_ID }}</td>
                    <td>{{ h.channel_Key }}</td>
                    <td>{{  h.problem_Type_Key }}</td>
                    <td>{{ h.isActive ? 'Open' : 'Closed' }}</td>
                    <td>{{ h.plannedStartDTS | date }}</td>
                    <td>{{ h.plannedEndDTS | date }}</td>
                    <td>{{ h.createdUser }}</td>
                    <!-- Match header with detail -->
                    <td>
                      <ul>
                        <li *ngFor="let d of getDetailsForHeader(h.Cutting_Down_Key)">
                          {{ d.Network_Element_Key }}
                        </li>
                      </ul>
                    </td>
                    <td>
                      <ul>
                        <li *ngFor="let d of getDetailsForHeader(h.Cutting_Down_Key)">
                          {{ d.ImpactedCustomers }}
                        </li>
                      </ul>
                    </td>
                    <td>
                      <ul>
                      <li *ngFor="let d of getDetailsForHeader(h.Cutting_Down_Key)">
                        {{ d.ActualCreatetDate | date }}
                      </li>

                      </ul>
                    </td>
                    </tr>

                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div class="pagination">
            <div class="pagination-info">
                <button class="btn btn-outline">‚Äπ</button>
                <span class="btn btn-primary">1</span>
                <button class="btn btn-outline">‚Ä∫</button>
                <select class="page-select">
                    <option>20</option>
                    <option>50</option>
                    <option>100</option>
                </select>
                <span>items per page</span>
            </div>

            <div class="search-input-container">
                <input type="text" class="search-input" placeholder="Search...">
                <span class="search-icon">üîç</span>
            </div>

            <div class="total-count">
                Total: <span class="total-count">205</span>
            </div>
        </div>
    </div>


</body>

